# 6장 데이터 타입

스터디 날짜: 2022년 9월 20일
완료 여부 : Done
작성자: 익명

### 데이터 타입

---

데이터 타입은 값의 종류를 말한다. 모든 값들은 데이터 타입을 가지고 있으며 자바스크립트에서는 원시타입 6종류와 객체 총 7가지의 데이터 타입을 제공한다.

### 숫자타입

---

- 자바스크립트는 C나 자바와 달리 오직 하나의 숫자 타입만이 존재하고 배정밀도 64비트 부동소수점 형식을 따른다. 즉, 모든 숫자를 실수로 처리한다. ( C나 자바는 int, long, float, double 등과 같은 타입으로 정수와 실수를 구분하여 선언함)
    
    ```jsx
    // 모든 숫자를 실수로 처리하기 때문에 1은 1.0이나 마찬가지다.
    console.log(1 === 1.0) // true
    ```
    

- 💡 부동소수점 형식이란?
    
    실수 표현 방식중의 하나로 자바스크립트는 IEEE(전기전자공학자협회)에서 제공하는 표준인 부동소수점 형식, 그 중에서도 배정도 64비트 부동소수점 형식을 따르고 있다.
    
    고정 소수점 방식과 부동 소수점 방식의 차이
    
    1. 고정 소수점 방식
        - 고정 소수점 방식은 예를 들어 32비트로 숫자 값을 표현 한다고 한다면 애초에 소수점을 고정해 두어 정수 부분 15비트 소수 부분은 16비트로 못 박아버리는 것이다.
        - 고정 소수점 방식은 정수부와 소수부의 자릿수가 고정되어 있고 크지 않으므로 표현할 수 있는 숫자의 범위가 매우 적다
        
        ![고정 소수점 방식.png](6%E1%84%8C%E1%85%A1%E1%86%BC%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%20%E1%84%90%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%B8%20a16b06761d3a410f88ac46834c61d856/%25EA%25B3%25A0%25EC%25A0%2595_%25EC%2586%258C%25EC%2588%2598%25EC%25A0%2590_%25EB%25B0%25A9%25EC%258B%259D.png)
        
    2. 부동 소수점 방식
        - 같은 bit 크기에서 고정 소수점 방식보다 가수와 지수 개념을 통한 추가적인 연산을 통해 훨씬 더 넓은 범위의 숫자를 표현할 수 있는 방식
        - 부동 소수점 방식은 어떤 소수를 2의 거듭제곱과 정규화된 수의 곱 형태로 나타냄
            - 정규화란?
                
                소수점 왼쪽에 한 자릿수만을 가지면서 0이 나오지 않도록 한 수
                
        
        <aside>
        🖥️ 정규화된 수×2^(지수부 + Bias)
        
        </aside>
        
        - 부동소수점은 32비트의 경우 메모리 상의 비트에서 부호부분(1비트), 지수부(8비트), 가수부(23비트)로 나누어 실수를 저장
            
            ![부동소수점 표현.png](6%E1%84%8C%E1%85%A1%E1%86%BC%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%20%E1%84%90%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%B8%20a16b06761d3a410f88ac46834c61d856/%25EB%25B6%2580%25EB%258F%2599%25EC%2586%258C%25EC%2588%2598%25EC%25A0%2590_%25ED%2591%259C%25ED%2598%2584.png)
            
        - 부동소수점은 64비트의 경우 메모리 상의 비트에서 부호부분(1비트) 지수부(11비트), 가수부 (52비트)로 나누어 실수를 저장
            - 부호부분 : 양수는 0, 음수는 1
            - 지수부분 : 지수부에 Bias를 더한 값을 2진수로 변환
                - Bias란?
                    
                    Bias는 편향 지수라는 뜻으로 부동소수점 수 체계에서 지수의 값을 양수로 만들어 주기 위해 일정한 상수를 지수에 더해 주는 방법
                    
                    Bias를 하는 이유?
                    
                    지수 값이 음수인 경우는 2진수로 변환할 수 없기 때문에  
                    
                    32비트는 127, 64비트는 1023의 값을 더해줌. 지수부는 총 11비트로 0 ~ 2047까지 나타낼 수 있으므로 양수는 1024 ~ 2047, 음수는 0 ~ 1023으로 나타냄
                    
            - 가수부분 : 2진수를 정규화한 값의 소수점 오른쪽부분, 기수부분이 길어 모자라면 짤리고 비트가 남으면 0으로 채워짐
        
        - 부동 소수점 방식으로의 변환
            
            자바스크립트에서 모든 수는 실수로 처리되고 그 중에서도 64비트 배정도 부동소수점으로 변환된다고 했다. 즉, 모든 숫자값은 64비트(8바이트)의 메모리공간을 가지면서 부동소수점방식의 2진수로 저장되는 것이다.
            
            ex) 1024.75 → 부동소수점 방식 변환 과정
            
            1. 정수부분과 소수부분을 각각 2진수로 변환 1024.75 → 10000000000.11
            2. 2진수로 변환한 수를 부동 소수점 방식으로 변환 10000000000.11 → 1.000000000011 x 2^10
            3. 메모리 상의 64비트 크기로 각각 부호부분(1비트) 지수부(11비트), 가수부(52비트) 저장됨
                - 부호부분 → 양수이므로 0 저장됨
                - 지수부 → 지수부에 Bios를 더하여 2진수 변환 → 10000001001 저장됨
                - 가수부 → 정규화된 값의 소수점 부분  000000000011 저장됨
            

- 💡 소수점 계산 오류 발생 이유
    
    ```jsx
    0.1 + 0.2 // 0.30000000000000004 
    // 0.3이 안나오는 이유는 무엇일까?
    ```
    
    컴퓨터는 모든 값을 2진수로 바꿔서 저장을 하는데 유한소수는 2진수로 바뀌면 무한소수가 되는 경우가 많다. 따라서 자바스크립트같은 경우 모든 숫자를 64비트로 표시하는데 64비트에 무한소수를 다 담지 못하고 중간에 잘라서 유한소수로 저장하기 때문에 위와 같은 결과가 나오는 것이다.
    
    💡 해결방법
    
    1. toFixed() 메서드 
        
        ```jsx
        // 인수로 입력한 수만큼 소수점 뒤 수를 나타냄, 문자열로 반환함
        let result = (0.1 + 0.2).toFixed(2) // '0.30'
        Number(result); // 0.3 // 숫자로 타입 변경
        ```
        

- 2진수, 8진수, 16진수를 표현하기 위한 데이터 타입을 제공하지 않으므로 모두 10진수로 표시됨
- 숫자타입은 세 가지의 특별한 값을 표현 가능
    - Infinity : 양의 무한대
    - -Infinity: 음의 무한대
    - NaN : 산술 연산 불가
    
    ```jsx
    console.log(10 / 0); // Infinitiy
    console.log(10 / -0); // -Infinity
    console.log(1 * 'string'); // NaN
    ```
    

### 문자열 타입

---

- 텍스트 데이터를 나타내기 위하여 사용
- 문자열은 작은따옴표(’’), 큰따옴표(””),백틱(``)으로 반드시 감싸야 한다.
    
    문자열을 따옴표로 감싸는 이유?
    
    <aside>
    🖥️ 문자열을 따옴표로 감싸지 않으면 자바스크립트 엔진이 문자열을 키워드나 식별자로 인식을 하기 때문에 문자열을 키워드나 식별자와 구분하기 위하여 따옴표 혹은 백틱으로 감싸줌
    
    </aside>
    
- 템플릿 리터럴
    - ES6부터 템플릿 리터럴이라고 하는 새로운 문자열 표기법 도입
    - 템플릿 리터럴은 일반 따옴표가 아닌 백틱(``)으로 문자열을 감싸줌
    - 템플릿 리터럴에서는 줄바꿈이 허용된다. 일반 문자열 리터럴은 기본적으로 줄바꿈 허용이 제한되고 줄바꿈을 표현하려면 이스케이프 시퀀스를 사용해야 한다.
        
        이스케이프 시퀀스란?
        
        <aside>
        🖥️ ‘ \ ’ (백슬래시)와 다른 문자를 결합하여 프로그래밍 언어 특성상 표현할 수 없는 문자나 기능을 표현할 수 있게 해주는 문자
        
        </aside>
        
    - ${ } 문법을 사용하여 표현식 삽입 가능

### 불리언 타입

---

- 불리언 타입은 논리적 참, 거짓을 나타내는 true와 false 두 개의 값만 존재한다.
- 주로 참, 거짓으로 평가되는 조건문으로 프로그램의 흐름을 제어할 때 사용됨

### undefined 타입

---

- undefined 타입의 값은 undefined가 유일
- undefined 타입은 개발자가 사용하기 위한 값이 아니라 자바스크립트 엔진이 선언된 변수를 초기화 하기 위해 사용하는 값 ( 자바스크립트 엔진은 런타임 전에 변수 선언문을 실행하고 undefined로 초기화 함)
- undefined는 변수를 초기화 하는데에 사용되는 값이므로 개발자가 의도적으로 이 값을 사용하면 본래의 취지에 어긋나 혼선이 발생할 수 있으므로 만약 변수에 값이 없다는 것을 명시하고 싶을 때는 undefined가 아닌 null을 할당

### null 타입

---

- null 타입의 값은 null이 유일
- null은 변수에 값이 없다는 것을 의도적으로 명시하기 위하여 사용
- 즉, null은 기존에 할당되어 있는 값에 대한 참조를 의도적으로 지우는 것이므로 기존의 값이 들어있는 메모리 공간은 더 이상 식별자에 의해 참조되지 않으므로 가비지 컬렉터에 의해 메모리로부터 해제됨
- 함수가 유효한 값을 반환할 수 없을 때 null을 반환하기도 함
    
    ```html
    <!DOCTYPE html>
    <html>
    <body>
    	<script>
    		var element = document.querySelector('.myClass'); //
    		
    		// html 문서에 myClass라는 클래스를 가진 엘리먼트(유효한 값)가 존재하지 않으므로 빈 값인 null을 반환
    		console.log(element); // null
    	</script>
    </body>
    </html>
    
    ```
    

### 심벌 타입

---

- 심벌도 숫자, 문자열, 불리언과 같은 원시타입의 값
- 심벌 값은 다른 값과 중복 되지 않는 유일무이한 값
- 객체의 프로퍼티를 만들 때 다른 프로퍼티와 이름이 충돌하지 않도록 유일한 프로퍼티를 만들 때 주로 사용
- 다른 데이터 타입들은 리터럴로 값을 생성할 수 있는 데 반해 심벌 타입은 Symbol() 함수를 호출해 생성함

### 객체 타입

---

- 자바스크립트를 이루고 있는 거의 모든 것은 객체임. number, string, boolean, null, undefined, symbol 원시값을 제외한 다른 모든 값은 객체임
- 원시 타입이 하나의 값만을 나타내는 것에 반해 객체 타입은 다양한 값들을 하나의 단위로 묶은 복합적인 자료구조
- 객체는 0개 이상의 프로퍼티로 구성된 집합이며 프로퍼티는 키와 값으로 구성됨
- 프로퍼티 키는 기본적으로 문자열, 심벌값 사용이 가능하며 프로퍼티 값은 함수를 포함한 모든 값을 사용 가능
- 프로퍼티 값이 함수일 경우 일반 함수와 구분하기 위하여 메서드라 부름
- 즉, 객체는 상태를 나타내는 프로퍼티와 동작을 수행하는 메서드로 구성된 집합체

### 데이터 타입의 필요성

---

1. 데이터 타입에 의한 메모리 공간의 확보와 참조
    - 자바스크립트 엔진은 변수에 값을 할당할 때 할당되는 값의 데이터 타입에 따라 확보해야할 메모리 공간의 크기를 결정한다.
    - 자바스크립트 엔진은 변수의 값을 참조할 때 값이 할당되어 있는 첫 번째 메모리 셀에 찾아갈 수 있다.
    - 값을 참조할 때  값의 첫 번째 메모리 셀에서 몇 개의 셀을 읽어들여야하는지 정해야 하는데, 자바스크립트 엔진은 변수에 할당되어 있는 값의 데이터타입을 이용해서 읽어들여야 할 메모리 셀의 개수를 알 수 있다.
2. 데이터 타입에 의한 값의 해석
    - 모든 값은 데이터 타입을 가지며 *2진수로 저장이 되는데 저장된 2진수* 값은 데이터 타입에 따라 다르게 해석될 수 있음
    - 자바스크립트 엔진은 데이터 타입을 보고 어떻게 해석할지를 결정

### 동적 타이핑

---

1. 동적 타입 언어와 정적 타입 언어
    
    ![정적타입언어와-동적타입언어의-비교.png](6%E1%84%8C%E1%85%A1%E1%86%BC%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%20%E1%84%90%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%B8%20a16b06761d3a410f88ac46834c61d856/%25EC%25A0%2595%25EC%25A0%2581%25ED%2583%2580%25EC%259E%2585%25EC%2596%25B8%25EC%2596%25B4%25EC%2599%2580-%25EB%258F%2599%25EC%25A0%2581%25ED%2583%2580%25EC%259E%2585%25EC%2596%25B8%25EC%2596%25B4%25EC%259D%2598-%25EB%25B9%2584%25EA%25B5%2590.png)
    
    - 자바스크립트의 변수는 정적타입언어처럼 선언을 통해 타입이 결정되는 것이 아니라 할당에 의해 타입이 결정됨
    - 재할당에 의해 언제든지 그때 그때 동적으로 타입이 변할 수 있음
    
2. 동적 타입 언어와 변수
    - 변수는 언제든지 변경될 수 있고 동적 타입 언어는 더군다나 값의 변경에 따라 데이터 타입까지 변경될 수 있음
    - 또한 개발자의 의도와 상관없이 자바스크립트 엔진에 의해 암묵적으로 데이터 타입이 변환될 수도 있음
        
        ```jsx
        let num = '10'; // 문자열 리터럴
        console.log(10 * num); // 100 (문자 10이 암묵적으로 숫자 10으로 변환되어 산술연산됨)
        ```
        
    - 결국 동적 타입 언어는 유연성은 높고 대신 신뢰성은 떨어짐
    - 오류 발생을 최대한 억제하기 위하여 다음과 같이 주의하여 변수를 사용해야 함
        - 변수는 꼭 필요한 경우에 한해 제한적으로 사용
        - 스코프를 최대한 좁게 만들어 변수의 변경 가능성 최소화
        - 전역변수는 어디서든 참조 가능해 값이 변경될 가능성이 크므로 최대한 자제
        - 변수보다는 상수를 사용하여 값의 변경을 억제
        - 변수의 이름은 목적이나 의미를 파악할 수 있도록 네이밍하여 코드의 가독성을 높임