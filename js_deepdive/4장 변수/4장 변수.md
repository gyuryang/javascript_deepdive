# 4장 변수

스터디 날짜: 2022년 9월 20일
완료 여부 : Done
작성자: 익명

### 변수란?

---

변수(식별자)는 메모리 공간 그 자체 또는 메모리 공간을 식별하기 위한 이름이다.

더 자세히 설명하자면, 메모리 내에는 수 많은 저장 공간(메모리 셀)이 존재하고 운영체제가 동작하기 위하여 필요한 값들이 저장되어 있는 등 다양한 값들이 곳곳에 저장되어 있다. 이렇게 다양한 값들이 저장되어 있는 메모리 공간 중에서 내가 필요로 하는 값을 식별해 내거나 메모리 공간을 확보하여 저장하기 위해 메모리 공간에 붙인 이름이 바로 변수인 것이다.

즉, 변수는 정의에서도 알 수 있듯이 메모리 공간을 식별해 내는 식별자이다. 메모리 공간을 식별해 내기 위하여 변수는 값이 저장되어 있는 메모리 주소를 기억해야 한다. 따라서 변수는 메모리 주소를 기억한다. 

![변수.png](4%E1%84%8C%E1%85%A1%E1%86%BC%20%E1%84%87%E1%85%A7%E1%86%AB%E1%84%89%E1%85%AE%20c9f9e68146b84bcd9b5e3829ac427802/%25EB%25B3%2580%25EC%2588%2598.png)

 

<aside>
🖥️ 위 그림에서 변수 score는 메모리공간의 주소 0x000000F2를 기억하고 있기 때문에 저장되어 있는 값 10에 접근할 수 있는 것이다.

</aside>

### 변수선언

---

변수를 사용하여 값을 저장하기 위해서는 우선 변수 선언이라는 과정을 먼저 거쳐야 한다. 

변수 선언 방법은 ES5에서의 선언 방법인 var와 ES6에서 새롭게 추가된 let과 const가 있다.

- var 키워드를 이용한 자바스크립트 변수 선언 과정
    - 선언 단계 : 변수 이름을 등록하여 자바스크립트 엔진에게 알림
    - 초기화 단계 : 값을 저장하기 위한 메모리 공간을 만들고 undefined 할당

변수를 선언하면 초기화 전까지 아무 값도 저장되어 있지 않는 것이 아니라 undefined가 저장되어 있다. 

<aside>
🖥️ RAM(메모리 공간)은 다른 프로세스(응용 프로그램)들도 메모리 공간을 할당받아서 사용하기 때문에 자바스크립트에 의해서 변수가 선언되어 할당받은 메모리공간에 다른 프로그램이 쓰다 남긴 쓰레기(가비지) 값이 남아있을 수 있으므로 이러한 사태를 사전에 방지하기 위해 자바스크립트 엔진은 변수를 선언하여 메모리공간을 확보하자마자 undefined를 자동으로 할당하는 것이다.

</aside>

### 변수 호이스팅

---

```jsx
console.log(score); // undefined

var score;
```

위 코드와 같이 변수 선언이 일어나기 전에 참조를 했는데도 불구하고 마치 변수가 선언된 것처럼 에러가 발생하지 않고 참조되는 현상.

즉, 변수 선언이 마치 코드의 선두로 끌어 올려진 것처럼 동작하는 자바스크립트 고유의 특징을 변수 호이스팅이라고 한다.

- 호이스팅이 발생하는 이유는?

<aside>
🖥️ 자바스크립트 엔진은 선언문이란 선언문은 모조리 다 소스코드가 실행되는 런타임 전에 미리 실행하기 때문에 소스코드가 실행되는 시점에 변수를 참조해도 참조가 가능한 것이다.

</aside>

### 값의 할당

---

변수 선언과 값의 할당은 항상 실행 시점이 다르다.

변수 선언은 호이스팅으로 인해 항상 런타임 이전에 먼저 실행이 된다. 반면 할당은 런타임에 자바스크립트 엔진이 소스코드를 해석하다가 할당문 지점에 도착하면 그제서야 할당이 이루어진다.

```jsx
console.log(num); // undefined

var num= 10;
console.log(num); // 10

score = 1000;
console.log(num); // 1000
```

위 코드를 보면 변수는 항상 호이스팅으로 인해 소스 코드 실행 전에 선언되기 때문에 선언 전 undefined로 미리 초기화 되어 있는 것을 알 수 있다.

그리고나서 할당 후에 참조하면 그제서야 할당된 10이 저장된 메모리 공간을 변수가 가리키는 것을 알 수 있다.  

변수는 말 그대로 ‘변하는 수’이기 때문에 선언한 이후 다른 값으로 재할당도 가능하다. 위 코드를 보면 10을 할당한 num 변수에 1000을 재할당 한 것을 볼 수 있다.

이 때 중요한 점은 이전 값 10이 저장되어 있던 메모리 공간에 1000을 새롭게 저장하는 것이 아니라 새로운 메모리 공간을 만들고 그곳에 1000을 저장한 후 식별자로 그 메모리 공간의 주소를 가르키는 것이다. 

여태까지의 변수 선언 과정과 값의 할당 과정이 메모리 내에서 어떤 식으로 동작하는지를 보여주는 그림은 다음과 같다.

![memory_address.png](4%E1%84%8C%E1%85%A1%E1%86%BC%20%E1%84%87%E1%85%A7%E1%86%AB%E1%84%89%E1%85%AE%20c9f9e68146b84bcd9b5e3829ac427802/memory_address.png)

1. 런타임 이전에 변수(num) 선언문을 실행하여 num 변수 등록 후 메모리 공간을 확보하여 undefined로 초기화
2. 런타임에 들어가서 소스코드를 실행하다가 ‘num = 10’ 할당문을 만나면 10을 할당하는데, 이 때기존의 undefined값이 있던 메모리 공간에 10을 저장하는 것이 아니라 새로운 메모리 공간을 확보한 후 10을 저장한다.
3. ‘num = 1000’의 재할당문을 만나면 1000을 할당한다. 이 때 기존의 10 값이 있던 메모리 공간에 1000을 저장하는 것이 아니라 새로운 메모리 공간을 확보한 후 1000을 저장한다. 

### 식별자 네이밍 규칙

변수를 선언하기 위하여 변수의 이름을 지을 때에도 따라야 할 규칙이 있다.

---

1. 특수문자를 제외한 문자, 숫자, 언더스코어(_), 달러 기호($) 포함 가능
2. 숫자로 시작할 수 없다.
3. 예약어는 식별자로 사용할 수 없다. 

---

### 네이밍 컨벤션

네이밍 컨벤션은 하나 이상의 영어 단어로 구성된 식별자를 만들 때 가독성 좋게 단어를 한눈에 알아볼 수 있게끔 규정한 네이밍 규칙이다.

- 네이밍 컨벤션의 종류
    - 카멜 케이스 :  처음에는 소문자 단어로 시작하며 두 번째 단어부터 대문자로 표기
    
    ```jsx
    const musicScore // 카멜 케이스
    ```
    
    - 스네이크 케이스 :  단어는 모두 소문자로 쓰되 ‘언더스코어 기호’로 구분하여 표기
    
    ```jsx
    const music_score // 스네이크 케이스
    ```
    
    - 파스칼 케이스 : 카멜 케이스 표기법이 첫 단어를 소문자로 시작한 것과 달리 대문자로 시작하여 표기
    
    ```jsx
    const MusicScore // 파스칼 케이스
    ```
    
    - 헝가리언 케이스:  변수 앞에 자료형을 붙여서 표기
    
    ```jsx
    const iMusicScore = 50; // 헝가리언 케이스
    ```
    

자바스크립트에서는 일반적으로 변수나 함수의 이름에는 카멜 케이스를 사용하고 생성자 함수, 클래스의 이름에는 파스칼 케이스를 사용한다.